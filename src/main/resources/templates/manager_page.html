<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title>管理画面</title>
<link rel="icon" href="@{/imag/logo3png.png}">
<link rel="stylesheet" th:href="@{/css/manager_page.css}">
<!--headerのjs-->
<script src="js/jquery-3.2.1.min.js"></script>

<!--リセットユイ-->
<link rel="stylesheet" type="text/css"
	href="http://yui.yahooapis.com/3.18.1/build/cssreset/cssreset-min.css">

<!--headercss-->
<link th:href="@{/css/meanmenu.css}" rel="stylesheet" type="text/css">
<link th:href="@{/css/font-awesome.min.css}" rel="stylesheet"
	type="text/css">
<link th:href="@{/css/header.css}" rel="stylesheet" type="text/css">
<!--css-->
<link th:href="@{/css/i-style.css}" rel="stylesheet" type="text/css">
<link th:href="@{/css/parts.css}" rel="stylesheet" type="text/css">

<!--font-awesome-->
<link rel="stylesheet" type="text/css"
	href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
	integrity="sha256-UzFD2WYH2U1dQpKDjjZK72VtPeWP50NoJjd26rnAdUI="
	crossorigin="anonymous" />

<!--jquery cdn-->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!--googlefont細-->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
	href="https://fonts.googleapis.com/css2?family=Lato:wght@100&display=swap"
	rel="stylesheet">
<!--googlefont太-->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
	href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap"
	rel="stylesheet">
<!--googlefontRoboto-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap"
	rel="stylesheet">


<!--scroll.js-->
<script type="text/javascript" src="js/scroll.js"></script>

<!--slider-->
<link th:href="@{/css/slick.css}" rel="stylesheet" type="text/css">
<link th:href="@{/css/slick-theme.css}" rel="stylesheet" type="text/css">

<!--headerscript-->
<script type="text/javascript">
	$(function($) {
		//メニューの表示状態保管用
		var state = false;
		//.bodyのスクロール位置
		var scrollpos = 0;
		//meanmenuの状態による表示制御
		function mm_control() {
			if ($('.mean-nav .nav').is(':visible')) {
				//表示中
				if (state == false) {
					scrollpos = $(window).scrollTop();
					$('body').addClass('fixed').css({
						'top' : -scrollpos
					});
					$('.mean-container').addClass('open');
					$('.mean-nav .mask').show();
					state = true;
				}
			} else {
				//非表示中
				if (state == true) {
					$('body').removeClass('fixed').css({
						'top' : 0
					});
					window.scrollTo(0, scrollpos);
					$('.mean-container').removeClass('open');
					$('.mean-nav .mask').hide();
					state = false;
				}
			}
		}

		$('#gNav').meanmenu({
			meanMenuContainer : "#header .h_nav", // メニューを表示させる位置
			meanScreenWidth : "768"
		});
		$(document).on('opend.meanmenu closed.meanmenu', function() {
			mm_control();
		}).on('touchend click', '.mean-bar .mask', function(e) {
			$('.mean-bar .meanmenu-reveal').trigger('click');
			return false;
		});
		//ウィンドウサイズ変更によるメニュー非表示時の制御
		$(window).on('resize', function() {
			mm_control();
		});
	});
</script>

<!--sliderscript-->
<script>
	//ヘッダー　検索ボタン
	$(function() {
		$(".menubtn").click(function() {
			$("#menu").slideToggle();
		});
	});

	//フッター　メニュー
	$(function() {
		$(".f_menubtn").click(function() {
			$(".f_open").slideToggle();

		});
	});

	$(function() {

		$('.tab li').click(function() {
			var index = $('.tab li').index(this);

			//コンテンツを非表示に
			$('.content li').css('display', 'none');
			//クリックされた番号のコンテンツを表示
			$('.content li').eq(index).css('display', 'block');

			//tabについてる'tab_current'を消す
			$('.tab li').removeClass('tab_current');
			//クリックしたタブにのみ'tab_current'をつける
			$(this).addClass('tab_current')

		});
	});

	//スクロール
	$(function() {
		$(window).scroll(function() {

			if ($(this).scrollTop() > 10) {
				$('#articles-scroll').addClass('is-fixed');
			} else {
				$('articles-scroll').removeClass('is-fixed');
			}
		})
	})
</script>
<!--さわらびゴシック-->
<script>
	(
					function(d) {
						var config = {
							kitId : 'wum1xfc',
							scriptTimeout : 3000,
							async : true
						}, h = d.documentElement, t = setTimeout(function() {
							h.className = h.className.replace(
									/\bwf-loading\b/g, "")
									+ " wf-inactive";
						}, config.scriptTimeout), tk = d
								.createElement("script"), f = false, s = d
								.getElementsByTagName("script")[0], a;
						h.className += " wf-loading";
						tk.src = 'https://use.typekit.net/' + config.kitId
								+ '.js';
						tk.async = true;
						tk.onload = tk.onreadystatechange = function() {
							a = this.readyState;
							if (f || a && a != "complete" && a != "loaded")
								return;
							f = true;
							clearTimeout(t);
							try {
								Typekit.load(config)
							} catch (e) {
							}
						};
						s.parentNode.insertBefore(tk, s)
					})(document);
</script>

</head>

<body>
	<div id ="top"></div>
	<header id="header">
		<div class="container">
			<div id="h_top">
				<div class="h_logo">
					<a href=""><img th:src="@{../static/imag/logo2.png}" alt="" /></a>
				</div>
				<div class="h_nav">
					<nav id="gNav">
						<ul class="nav">
						
							<li><a href="#top">TOP</a></li>
							<li><a th:href="@{/oritabi/register}" class="btn-sin">新規登録</a></li>
							<li><a th:href="@{/oritabi/manager_login}" class="btn-log">ログイン</a></li>
						</ul>
						<div class="mask"></div>
					</nav>
				</div>
			</div>
		</div>
	</header>


	<header class="mheader">
		<div class="pc_menuFlex">
			<div class="i-logo">
				<a href="#"><img src="@{/imag/logo2.png}" alt="" /></a>
			</div>
			<div class="pc_menu">
				<ul>
					
					<li><a href="#top">TOP</a></li>
					<li><a th:href="@{/oritabi/register}" class="btn-sin">新規登録</a></li>
					<li><a th:href="@{/oritabi/manager_login}" class="btn-log">ログイン</a></li>
				</ul>
			</div>
		</div>
	</header>

	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<h1>oritabi</h1>
	<hr>
	<!-- ▼▼▼ 新規登録時のみ表示 ▼▼▼ -->
	<div th:method="POST" th:object="${'/oritabi/costomerList'}" style="margin: 5px">
		<h3>お客様一覧</h3>
		<!-- 削除完了コメント -->
		<p th:if="${delcomplete}" th:text="${delcomplete}"></p>
		<p th:if="${msg}" th:text="${msg}"></p>

		<!-- ▼▼▼ 顧客情報が1件でもあれば表示 ▼▼▼ -->
		<script src="https://code.jquery.com/jquery.min.js"></script>
		<script>
			$(function() {
				$(".A").click(function() {
					$(".B").slideToggle("");
				});
			});
		</script>

		<div class="A">一覧 ⇓</div>
		<div class="B">
			<table th:unless="${#lists.isEmpty(costomerList)}">
				<tr>
					<th>顧客ID</th>
					<th>名前</th>
					<th>MAIL</th>
					<th>PASSWD</th>
					<th>メモ</th>
				</tr>

				<tr th:each="obj : ${costomerList}" align="center">
					<td th:text="${obj.id}"></td>
					<td th:text="${obj.name}"></td>
					<td th:text="${obj.mail}" align="left"></td>
					<td th:text="${obj.pass}"></td>
					<td th:text="${obj.memo}" align="left"></td>
				</tr>
			</table>
		</div>

		<!-- △△△データが一件でもあれば表示△△△ -->
		<!-- ▼▼▼データが一件もない場合表示▼▼▼ -->
		<p th:if="${#lists.isEmpty(costomerList)}">登録されている顧客情報はありません。</p>
		<!-- △△△データが一件もない場合表示△△△ -->
	</div>
	<!--th:if="${spotForm.newSpot}"  -->
	<div style="margin: 5px">
		<h3>
			観光地スポット<br>
		</h3>

		<!-- ▼▼▼ Form ▼▼▼ -->
		<form method="POST"
			th:action="${spotForm.newSpot}? @{/oritabi/insertSpot} : @{/oritabi/spotUpdate}"
			th:object="${spotForm}">
			<!-- <form method="POST" th:action="@{/oritabi/insertSpot}" th:object="${spotForm}"> -->
			<label th:unless="*{newSpot}" th:if="${spotForm.newSpot}">観光地連番</label> <input
				th:unless="*{newSpot}" type="text" th:field="*{spotId}" th:if="${spotForm.newSpot}" /><br>
			<label>観光地名</label> <input type="text" th:field="*{spotName}" /><br>
			<label>観光地住所</label> <input type="text" th:field="*{address}"><br>
			<label>WEBページ</label> <input type="text" th:field="*{web}"><br>
			<label>電話番号</label> <input type="text" th:field="*{tel}"><br>
			<label>オススメ</label><br>
			<textarea rows="5" cols="50" th:field="*{point}"></textarea>
			<br> <label>目的ID</label> <input type="text"
				th:field="*{purposeId}"><br> <label>画像URL</label> <input
				type="text" th:field="*{imageFileName}"><br>
			<div class="button006">
				<input th:if="*{newSpot}" type="submit" value="送信"> <input
					th:unless="*{newSpot}" type="submit" value="送信">
			</div>
		</form>
		<p th:if="${complete}" th:text="${complete}"></p>

		<!-- 削除完了コメント -->
		<p th:if="${spotDelComp}" th:text="${spotDelComp}"></p>
		<p th:if="${updateComp}" th:text="${updateComp}"></p>

		<!-- ▼▼▼ 観光地情報が1件でもあれば表示 ▼▼▼ -->
		<script>
			$(function() {
				$(".E").click(function() {
					$(".F").slideToggle("");
				});
			});
		</script>
		<!-- <div th:if="${spotForm.newSpot}"> -->
			<div class="E">一覧 ⇓</div>
			<div class="F">
				<table th:unless="${#lists.isEmpty(spotList)}">
					<tr>
						<th>観光地連番</th>
						<th>観光地名</th>
						<th>観光地住所</th>
						<th>WEBページ</th>
						<th>電話番号</th>
						<th>オススメ</th>
						<th>目的ID</th>
						<th>画像URL</th>
						<th>編集</th>
						<th>削除</th>
					</tr>
					<tr th:each="obj : ${spotList}" align="center">
						<td th:text="${obj.spotId}"></td>
						<td th:text="${obj.spotName}"></td>
						<td th:text="${obj.address}" align="left"></td>
						<td th:text="${obj.web}" align="left"></td>
						<td th:text="${obj.tel}"></td>
						<td th:text="${obj.point}" align="left"></td>
						<td th:text="${obj.imageFileName}" align="left"></td>
						<td th:text="${obj.purposeId}"></td>
						<td th:text="${obj.tel}"></td>
						<!-- 編集ボタン -->
						<td>
							<form method="GET"
								th:action="@{/oritabi/{spotId}(spotId=${obj.spotId})}">
								<input type="submit" value="編集">
							</form>
						</td>
						<!-- 削除ボタン -->
						<td>
							<form method="POST" th:action="@{/oritabi/spotDel}">
								<input type="hidden" name="spotId" th:value="${obj.spotId}">
								<input type="submit" value="削除">
							</form>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<br>
		<!-- △△△データが一件でもあれば表示△△△ -->
		<!-- ▼▼▼データが一件もない場合表示▼▼▼ -->
		<p th:if="${#lists.isEmpty(spotList) && spotForm.newSpot == true}">登録されている観光情報はありません。</p>
		<!-- △△△データが一件もない場合表示△△△ -->
	</div>
	<!-- △△△新規登録時のみ表示△△△ -->
	<!-- ▼▼▼新規登録時でない時に表示▼▼▼ -->
	<p th:unless="${costomerForm.newCostomer}">
		<a href="#" th:href="@{/teamB}" type="button"
			onclick="location.href='manager_login.html'">ログアウト</a>
	</p>
	<!-- △△△新規登録時でない時に表示△△△ -->
	<!--footer-------------------------------------------->
	<div class="f_menu">


		<!--footer_ナビゲーション-->
		<ul>
			<li></li>

			<li></li>

			<li></li>

			<li></li>

			<li>
				<div class="f_menubtn">
					<div>
						<i class="fas fa-bars"></i>
					</div>
				</div>

			</li>
		</ul>
	</div>
	<!--footer_メニューの中身-->
	<div class="f_open">
		<div class="f_logo">
			<img src="@{/imag/logo22.png}" alt="" />
		</div>

		<div class="category_list">
			<dl>
				<dd>ボタン</dd>
			</dl>

			<dl>
				<dd>ボタン</dd>
			</dl>

			<dl>
				<dd>
					<a href="@{/oritabi/register}"><div class="btn-sin">新規登録</div></a>
				</dd>
			</dl>

			<dl>
				<dd>
					<a href="@{/oritabi/manager_login}"><div class="btn-log">ログイン</div></a>
				</dd>
			</dl>

		</div>

	</div>



	<footer>
		<p class="copyright">©︎Pochikifu All Rights Reserved.</p>
	</footer>
	<!--sliderのjs-------------------------------------------->
	<script type="text/javascript"
		src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
	<script type="text/javascript"
		src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<script type="text/javascript" src="js/test.js"></script>
	<script type="text/javascript" src="js/slick.min.js"></script>

</body>

</html>